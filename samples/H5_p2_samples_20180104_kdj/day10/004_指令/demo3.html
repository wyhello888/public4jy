<!DOCTYPE html>
<html ng-app="app">
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="../node_modules/angular/angular.min.js"></script>
    <style>
      /*div{
        width: 100%;
        height: 100px;
        border: solid 1px #000;
      }*/

    </style>
  </head>
  <body ng-controller="ctrl">

    <my-header title="name" name="name" show="show(111)"></my-header>
    <!-- <my-header title="分类" name="name" show="show(222)"></my-header>
    <my-header title="购物车" name="name" show="show(333)"></my-header> -->

<script>

/*
title:标题
*/
angular.module('app',[])
.controller('ctrl',function($scope){
    $scope.name = "潘金莲";

    $scope.show = function(arg){
      //  console.log('this function show' + arg)
    }
})
.directive('myHeader',function(){
    return{
      restrict:"ECMA",
      replace:true,
      scope:{
        title:'@',
        name:'=',
        show:'&'
      },
      template:"<div ng-click='show()'><h1>{{title}} {{name}}</h1></div>",
      link:function($scope,$element,$attrs){
            // console.log($scope);
            // console.log($element);
            // console.log($attrs);
            // console.log($attrs.title)
            //   console.log($attrs.name)
            //     console.log($attrs.show)

            $element.on('click',function(){
              // console.log(this)
                this.style.backgroundColor = '#f00';
            })

            $element.on('touchstart',function(e){
                // console.log(e)
                 this.style.backgroundColor = '#f00';
            })
      }
    }
})

</script>
  </body>
</html>
